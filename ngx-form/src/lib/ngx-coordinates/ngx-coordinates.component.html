<header>{{ title || 'موقعیت جغرافیایی' }}</header>

<div
    id="ngx-form-map"
    class="ngx-form-map"
    (dblclick)="setCoordinates($event)"
    (contextmenu)="setCoordinates($event)"
></div>

<footer>
    <content>
        <div class="buttons">
            <button mat-button type="button" mat-dialog-close>
                <mat-icon class="ngx-form-icon" [fontIcon]="'cancel'"></mat-icon>
            </button>
            @if (coordinates && !error) {
            <button mat-button type="button" (click)="selectCoordinates()">
                <mat-icon class="ngx-form-icon" [fontIcon]="'task_alt'"></mat-icon>
            </button>
            }
        </div>
        <div class="coordinates">
            <div class="coordinate">
                <div class="title">LATITUDE:</div>
                <input
                    type="text"
                    [ngModel]="coordinates?.latitude?.toString() || ''"
                    maxlength="15"
                    inputmode="numeric"
                    class="input-en"
                    [class.error]="error === 'LATITUDE'"
                    mask="separator.12"
                    thousandSeparator=""
                    decimalMarker="."
                    [allowNegativeNumbers]="true"
                    [inputTransformFn]="inputTransformFn"
                    (keyup.enter)="checkInputs(latitudeInput.value, longitudeInput.value)"
                    (blur)="checkInputs(latitudeInput.value, longitudeInput.value)"
                    #latitudeInput
                />
            </div>
            <div class="coordinate">
                <div class="title">LONGITUDE:</div>
                <input
                    type="text"
                    [ngModel]="coordinates?.longitude?.toString() || ''"
                    maxlength="15"
                    inputmode="numeric"
                    class="input-en"
                    [class.error]="error === 'LONGITUDE'"
                    mask="separator.12"
                    thousandSeparator=""
                    decimalMarker="."
                    [allowNegativeNumbers]="true"
                    [inputTransformFn]="inputTransformFn"
                    (keyup.enter)="checkInputs(latitudeInput.value, longitudeInput.value)"
                    (blur)="checkInputs(latitudeInput.value, longitudeInput.value)"
                    #longitudeInput
                />
            </div>
        </div>
    </content>
</footer>
