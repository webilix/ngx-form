@if (inputs.length !== 0) {
<content>
    <div class="condition">
        <div class="data">
            <div
                [ngClass]="{ input: true, error: !input, 'ngx-form-invalid': !input }"
                [matMenuTriggerFor]="inputsMenu"
            >
                <div class="title">{{ input?.title || '&nbsp;' }}</div>
                <mat-icon [fontIcon]="'keyboard_double_arrow_down'"></mat-icon>
                <mat-menu #inputsMenu="matMenu" class="ngx-report-menu">
                    <!-- INPUTS -->
                    @for (i of inputs; track $index) {
                    <button mat-menu-item type="button" (click)="setInput(i.name)">
                        <div class="title">{{ i.title }}</div>
                    </button>
                    }
                </mat-menu>
            </div>

            <!-- EMPTY OPERATOR -->
            @if (!input) {
            <div class="operator"></div>
            }

            <!-- OPERATOR -->
            @if (input) {
            <div
                [ngClass]="{
                    operator: true,
                    error: input && !condition.operator,
                    'ngx-form-invalid': input && !condition.operator
                }"
                [matMenuTriggerFor]="operatorsMenu"
            >
                <div class="title">
                    {{ condition.operator ? operatorsInfo[condition.operator].title : '&nbsp;' }}
                </div>
                <mat-icon [fontIcon]="'keyboard_double_arrow_down'"></mat-icon>
                <mat-menu #operatorsMenu="matMenu" class="ngx-report-menu">
                    <!-- OPERATORS -->
                    @for (o of operators; track $index) {
                    <button mat-menu-item type="button" (click)="setOperator(o)">
                        <div class="title">{{ operatorsInfo[o].title }}</div>
                    </button>
                    }
                </mat-menu>
            </div>
            }
        </div>

        <!-- VALUE -->
        @if (input && valueShow) {
        <div class="value">
            <ng-container [ngSwitch]="valueType">
                <ngx-value-data
                    *ngSwitchCase="'BANK-CARD'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                    [icon]="'payment'"
                    [mask]="'0000-0000-0000-0000'"
                ></ngx-value-data>
                <ngx-value-date
                    *ngSwitchCase="'DATE'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                ></ngx-value-date>
                <ngx-value-data
                    *ngSwitchCase="'DOMAIN'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                    [icon]="'language'"
                ></ngx-value-data>
                <ngx-value-data
                    *ngSwitchCase="'EMAIL'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                    [icon]="'alternate_email'"
                ></ngx-value-data>
                <ngx-value-data
                    *ngSwitchCase="'IP'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                    [icon]="'location_on'"
                ></ngx-value-data>
                <ngx-value-mobile
                    *ngSwitchCase="'MOBILE'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                ></ngx-value-mobile>
                <ngx-value-data
                    *ngSwitchCase="'NATIONAL-CODE'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                    [icon]="'badge'"
                    [mask]="'0000000000'"
                ></ngx-value-data>
                <ngx-value-number
                    *ngSwitchCase="'NUMBER'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                ></ngx-value-number>
                <ngx-value-option
                    *ngSwitchCase="'OPTION'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                ></ngx-value-option>
                <ngx-value-text
                    *ngSwitchCase="'TEXT'"
                    [input]="input"
                    [operator]="condition.operator"
                    [value]="condition.value"
                    (changed)="setValue($event)"
                ></ngx-value-text>
            </ng-container>
        </div>
        }
    </div>

    <button mat-button type="button" (click)="deleted.emit()">
        <mat-icon [fontIcon]="'delete'" class="warn"></mat-icon>
    </button>
</content>
}
