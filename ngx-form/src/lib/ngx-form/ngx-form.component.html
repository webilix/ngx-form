<form class="ngxForm" [formGroup]="formGroup" (ngSubmit)="checkValues()" dir="rtl" #formObject="ngForm">
    <ng-container *ngFor="let row of ngxForm.inputs || []">
        <ng-container *ngIf="!isArray(row) && (row.type === 'COMMENT' || !hiddenInputs.includes(row.name))">
            <div class="ngx-form-field-input">
                <ngx-input [group]="formGroup" [input]="row" [appearance]="appearance"></ngx-input>
                <button
                    *ngIf="row.type !== 'COMMENT' && row.button"
                    mat-stroked-button
                    type="button"
                    [color]="row.button.color || 'primary'"
                    (click)="row.button.click()"
                    [ngClass]="{ disabled: disabledButtons.includes(row.name) }"
                    [disabled]="disabledButtons.includes(row.name)"
                >
                    <mat-icon [fontIcon]="row.button.icon"></mat-icon>
                </button>
            </div>
        </ng-container>

        <div class="columns" *ngIf="isArray(row)">
            <ng-container *ngFor="let input of row">
                <ng-container *ngIf="input.type === 'COMMENT' || !hiddenInputs.includes(input.name)">
                    <div class="ngx-form-field-input">
                        <ngx-input [group]="formGroup" [input]="input" [appearance]="appearance"></ngx-input>
                        <button
                            *ngIf="input.type !== 'COMMENT' && input.button"
                            mat-stroked-button
                            type="button"
                            [color]="input.button.color || 'primary'"
                            (click)="input.button.click()"
                            [ngClass]="{ disabled: disabledButtons.includes(input.name) }"
                            [disabled]="disabledButtons.includes(input.name)"
                        >
                            <mat-icon [fontIcon]="input.button.icon"></mat-icon>
                        </button>
                    </div>
                </ng-container>
            </ng-container>
        </div>
    </ng-container>

    <ng-content></ng-content>

    <div class="buttons">
        <button mat-flat-button type="submit" color="primary">{{ ngxForm.submit }}</button>
        <button
            mat-stroked-button
            type="button"
            color="primary"
            *ngFor="let button of ngxForm.buttons"
            (click)="button.action()"
        >
            {{ button.title }}
        </button>
    </div>
</form>
